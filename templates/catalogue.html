<!DOCTYPE html>
<html>
<head>
    <title>Product Catalogue</title>
</head>
<body>
    <!-- ğŸ”¹ Navigation -->
    <p>
        <a href="{{ url_for('catalogue') }}">ğŸ  Home</a> |
        {% if current_user.is_authenticated %}
            Hello, {{ current_user.name }} |
            <a href="{{ url_for('cart') }}">ğŸ›’ Cart</a> |
            <a href="{{ url_for('my_orders') }}">ğŸ“¦ My Orders</a> |
            {% if current_user.role == 'admin' %}
                <a href="{{ url_for('admin_products') }}">âš™ Manage Products</a> |
                <a href="{{ url_for('admin_orders') }}">ğŸ“‘ All Orders</a> |
            {% endif %}
            <a href="{{ url_for('logout') }}">ğŸšª Logout</a>
        {% else %}
            <a href="{{ url_for('login') }}">Login</a> |
            <a href="{{ url_for('signup') }}">Sign Up</a>
        {% endif %}
    </p>
    <hr>

    <h1>ğŸ“¦ Online Product Catalogue</h1>

    <form method="get" action="{{ url_for('catalogue') }}">
        <input type="text" name="q" placeholder="Search products...">
        <input type="number" name="min" placeholder="Min Price">
        <input type="number" name="max" placeholder="Max Price">
        <button type="submit">Search</button>
    </form>

    <ul>
        {% for product in products %}
            <li>
                <h3>{{ product.name }} - â‚¹{{ product.price }}</h3>
                <p>{{ product.description }}</p>
                {% if product.image %}
                    <img src="{{ url_for('static', filename=product.image) }}" width="150">
                {% endif %}
                <br>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('add_to_cart', product_id=product.id) }}">ğŸ›’ Add to Cart</a>
                {% else %}
                    <p><i>Login to add to cart</i></p>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
</body>
</html>
